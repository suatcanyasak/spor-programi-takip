document.addEventListener('DOMContentLoaded',()=>{let _0x1a2b=JSON.parse(localStorage.getItem('myWorkouts'))||{Pazartesi:[],SalÄ±:[],Ã‡arÅŸamba:[],PerÅŸembe:[],Cuma:[],Cumartesi:[],Pazar:[]};const _0x3e4d=document.getElementById('theme-toggle');if(localStorage.getItem('theme')==='light')document.body.classList.add('light-mode');_0x3e4d.addEventListener('click',()=>{document.body.classList.toggle('light-mode');localStorage.setItem('theme',document.body.classList.contains('light-mode')?'light':'dark');});const _0x5f6a=document.querySelectorAll('.exercise-guide li:not(.category-title)');_0x5f6a.forEach(_0x7b8c=>{_0x7b8c.addEventListener('click',()=>{const _0x9d0e=document.getElementById('exercise-name');_0x9d0e.value=_0x7b8c.innerText;_0x9d0e.focus();_0x9d0e.style.borderColor="#10b981";setTimeout(()=>_0x9d0e.style.borderColor="",1000);});});document.getElementById('reset-all').addEventListener('click',()=>{if(confirm('TÃ¼m haftalÄ±k programÄ±nÄ±zÄ± ve ilerlemenizi silmek istediÄŸinize emin misiniz?')){Object.keys(_0x1a2b).forEach(_0x11aa=>_0x1a2b[_0x11aa]=[]);_0x22bb();}});document.getElementById('download-pdf').addEventListener('click',()=>{const _0x33cc=document.getElementById('total-progress-bar').style.width;let _0x44dd=`<div style="padding:40px;font-family:Arial,sans-serif;color:#1e293b;background:white;"><div style="text-align:center;border-bottom:3px solid #4f46e5;padding-bottom:20px;margin-bottom:30px;"><h1 style="color:#4f46e5;margin:0;font-size:26px;text-transform:uppercase;">WeeklyGym HaftalÄ±k Performans Raporu</h1><p style="margin:10px 0 0 0;color:#64748b;font-size:14px;">KiÅŸisel Egzersiz Takip ve GeliÅŸim Belgesi</p></div><div style="display:flex;justify-content:space-between;margin-bottom:35px;background:#f1f5f9;padding:20px;border-radius:10px;"><div style="width:50%;"><p style="margin:0;font-size:12px;color:#64748b;text-transform:uppercase;letter-spacing:1px;">Rapor Tarihi</p><p style="margin:5px 0 0 0;font-weight:bold;font-size:16px;">${new Date().toLocaleDateString('tr-TR')}</p></div><div style="width:50%;text-align:right;"><p style="margin:0;font-size:12px;color:#64748b;text-transform:uppercase;letter-spacing:1px;">HaftalÄ±k Tamamlama OranÄ±</p><p style="margin:5px 0 0 0;font-weight:bold;color:#10b981;font-size:24px;">%${parseInt(_0x33cc)||0}</p></div></div>`;Object.keys(_0x1a2b).forEach(_0x55ee=>{const _0x66ff=_0x1a2b[_0x55ee];if(_0x66ff.length>0){_0x44dd+=`<div style="margin-bottom:30px;page-break-inside:avoid;"><h3 style="background:#4f46e5;color:white;padding:10px 15px;border-radius:6px;font-size:16px;margin-bottom:0;">${_0x55ee}</h3><table style="width:100%;border-collapse:collapse;margin-top:0;"><thead><tr style="text-align:left;background:#f8fafc;border-bottom:2px solid #e2e8f0;font-size:11px;color:#64748b;"><th style="padding:12px;">EGZERSÄ°Z ADI</th><th style="padding:12px;">AÄIRLIK</th><th style="padding:12px;">SET x DEÄER</th><th style="padding:12px;text-align:right;">DURUM</th></tr></thead><tbody>`;_0x66ff.forEach(_0x77aa=>{_0x44dd+=`<tr style="border-bottom:1px solid #f1f5f9;font-size:13px;"><td style="padding:12px;font-weight:600;color:#334155;">${_0x77aa.name}</td><td style="padding:12px;color:#475569;">${_0x77aa.weight?_0x77aa.weight+' kg':'-'}</td><td style="padding:12px;color:#475569;">${_0x77aa.sets} Set x ${_0x77aa.value} ${_0x77aa.type}</td><td style="padding:12px;text-align:right;font-weight:bold;font-size:12px;color:${_0x77aa.completed?'#10b981':'#ef4444'};">${_0x77aa.completed?'TAMAMLANDI':'YAPILMADI'}</td></tr>`;});_0x44dd+=`</tbody></table></div>`;}});_0x44dd+=`<div style="margin-top:40px;text-align:center;font-size:11px;color:#94a3b8;border-top:1px solid #f1f5f9;padding-top:20px;">Bu belge <strong>WeeklyGym</strong> Ã¼zerinden dijital olarak oluÅŸturulmuÅŸtur. <br> "SÃ¼reklilik, baÅŸarÄ±nÄ±n anahtarÄ±dÄ±r."</div></div>`;const _0x88bb={margin:[10,10],filename:`WeeklyGym_Rapor_${new Date().toLocaleDateString('tr-TR')}.pdf`,image:{type:'jpeg',quality:1},html2canvas:{scale:2,useCORS:true},jsPDF:{unit:'mm',format:'a4',orientation:'portrait'}};html2pdf().set(_0x88bb).from(_0x44dd).save();});const _0x99cc=document.getElementById('add-btn');_0x99cc.addEventListener('click',()=>{const _0x11bb=document.getElementById('day-select').value;const _0x22cc=document.getElementById('exercise-name').value;const _0x33dd=document.getElementById('exercise-weight');const _0x44ee=_0x33dd?_0x33dd.value:"";const _0x55ff=document.getElementById('sets').value;const _0x66aa=document.getElementById('type-select').value;const _0x77bb=document.getElementById('value-per-set').value;if(!_0x22cc||!_0x55ff||!_0x77bb){alert("LÃ¼tfen gerekli alanlarÄ± doldurun!");return;}const _0x88cc={id:Date.now(),name:_0x22cc,weight:_0x44ee?parseFloat(_0x44ee):null,sets:parseInt(_0x55ff),type:_0x66aa==='reps'?'Tekrar':'Dakika',value:parseInt(_0x77bb),completed:false};_0x1a2b[_0x11bb].push(_0x88cc);_0x22bb();document.getElementById('exercise-name').value='';if(_0x33dd)_0x33dd.value='';document.getElementById('sets').value='';document.getElementById('value-per-set').value='';});window.updateValue=function(_0x99aa,_0x11cc,_0x22dd,_0x33ee){const _0x44ff=_0x1a2b[_0x99aa].find(_0x55aa=>_0x55aa.id===_0x11cc);if(_0x44ff){if(_0x22dd==='sets'||_0x22dd==='value'||_0x22dd==='weight'){_0x44ff[_0x22dd]=_0x33ee===""?null:parseFloat(_0x33ee);}else{_0x44ff[_0x22dd]=_0x33ee;}_0x22bb();}};window.deleteExercise=function(_0x66bb,_0x77cc){if(confirm('Bu hareketi silmek istediÄŸine emin misin?')){_0x1a2b[_0x66bb]=_0x1a2b[_0x66bb].filter(_0x88dd=>_0x88dd.id!==_0x77cc);_0x22bb();}};window.toggleExercise=function(_0x99bb,_0x11dd){const _0x22ee=_0x1a2b[_0x99bb].find(_0x33ff=>_0x33ff.id===_0x11dd);if(_0x22ee){_0x22ee.completed=!_0x22ee.completed;_0x22bb();}};function _0x22bb(){localStorage.setItem('myWorkouts',JSON.stringify(_0x1a2b));_0x44aa();_0x55bb();}function _0x44aa(){const _0x66cc=document.getElementById('daily-planner');if(!_0x66cc)return;_0x66cc.innerHTML='';Object.keys(_0x1a2b).forEach(_0x77dd=>{const _0x88ee=_0x1a2b[_0x77dd];const _0x99dd=_0x88ee.filter(_0x11ee=>_0x11ee.completed).length;const _0x22ff=_0x88ee.length>0?Math.round((_0x99dd/_0x88ee.length)*100):0;const _0x33aa=document.createElement('div');_0x33aa.className='day-card';_0x33aa.innerHTML=`<h4>${_0x77dd} <span class="day-percentage">%${_0x22ff}</span></h4><div class="exercise-list">${_0x88ee.length===0?'<small style="color:#64748b; opacity:0.6">Program boÅŸ...</small>':''}${_0x88ee.map(_0x44bb=>`<div class="exercise-item ${_0x44bb.completed?'completed':''}"><div style="flex: 1"><input type="text" value="${_0x44bb.name}" class="edit-mode-input" style="width: 120px; font-weight:bold" onchange="updateValue('${_0x77dd}', ${_0x44bb.id}, 'name', this.value)">${_0x44bb.weight!==null?`<input type="number" value="${_0x44bb.weight}" class="edit-mode-input" style="width: 45px; color: #10b981" onchange="updateValue('${_0x77dd}', ${_0x44bb.id}, 'weight', this.value)"> <small>kg</small>`:''}<br><small><input type="number" value="${_0x44bb.sets}" class="edit-mode-input" style="width: 30px;" onchange="updateValue('${_0x77dd}', ${_0x44bb.id}, 'sets', this.value)"> Set x <input type="number" value="${_0x44bb.value}" class="edit-mode-input" style="width: 35px;" onchange="updateValue('${_0x77dd}', ${_0x44bb.id}, 'value', this.value)"> ${_0x44bb.type}</small></div><div class="actions"><input type="checkbox" ${_0x44bb.completed?'checked':''} onchange="toggleExercise('${_0x77dd}', ${_0x44bb.id})"><button class="btn-delete" onclick="deleteExercise('${_0x77dd}', ${_0x44bb.id})">ğŸ—‘ï¸</button></div></div>`).join('')}</div>`;_0x66cc.appendChild(_0x33aa);});}function _0x55bb(){let _0x66dd=0,_0x77ee=0;Object.keys(_0x1a2b).forEach(_0x88ff=>{_0x66dd+=_0x1a2b[_0x88ff].length;_0x77ee+=_0x1a2b[_0x88ff].filter(_0x99ee=>_0x99ee.completed).length;});const _0x11ff=_0x66dd>0?(_0x77ee/_0x66dd)*100:0;const _0x22aa=document.getElementById('total-progress-bar');if(_0x22aa)_0x22aa.style.width=_0x11ff+'%';}_0x44aa();_0x55bb();});
